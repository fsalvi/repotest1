<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=iso-8859-2">
<meta http-equiv="Content-language" content="pl">
<meta name="Author" content="W³odzimierz Macewicz">
<meta name="Keywords" content="tex,latex, spisy, Wirtualna Akademia">
<title> Spisy</title>
</head>
<body bgcolor=#a0f0a0>


<p align="center"> <big><b>Spis tre¶ci</b></big></p>
<i></i><p>
<i></i><p>
<i></i><p>
<b><a href=#main>Spisy w LaTeX-u</a></b><br>
<dd><b><a href=#poz>Wstawianie pozycji na listê</a></b><br>
<dd><b><a href=#budowa>Budowa spisu</a></b><br>
<hr>

<h2><a name=main>Spisy w LaTeXu</a></h2>

Niew±tpliwie ka¿da, d³u¿sza publikacja powinna zawieraæ
listê wystêpuj±cych w niej obiektów; takich jak: rozdzia³y,
podrozdzia³y, tablice, rysunki i inne. Zestawienie takie
pomaga zorientowaæ siê w budowie logicznej i strukturze
dokumentu. Czêsto jest to pierwszy czytany fragment, na podstawie którego
decydujemy o dalszej lekturze. S³u¿y nam ono za przewodnik po ksi±¿ce.
Wykorzystuj±c okazjê chcia³bym zaapelowac do autorów i wydawców
o umieszczanie takich zestawieñ na pocz±tku, a nie na koñcu
publikacji, szczególnie o charakterze podrêcznikowym, czytanym
i przegl±danym wyrywkowo.

<p> W LaTeX-u zosta³y, standardowo, zdefiniowane trzy spisy:
spis tre¶ci (<code>\tableofcontents</code>), spis rysunków
(<code>\listoffigures</code>) oraz spis tabel
(<code>\listoftables</code>). Wywo³anie okre¶lonego polecenia
spowoduje umieszczenie w tym miejscu odpowiedniego spisu.

<P>Proces tworzenia spisu jest dwuetapowy; w czasie pierwszego
przetwarzania tworzone s± odpowiednie zbióry pomocnicze
(osobne dla ka¿dego ze spisów), zawieraj±cy
polecenia opisuj±ce spis; w drugim przebiegu zbiory te s± do³±czane
do zbioru podstawowego (tworzony jest równie¿ nowy zbiór pomocniczy).

Za nazwy list odpowiadaj± nastêpuj±ce makroinstrukcje:
<table border=1>
<tr><th><code>\tableofcontenst</code> </th> 
			<th> <code>\listoffigures</code> </th> 
				    <th> <code>\listoftables</code></th></tr>
<tr><td><code>\listcontentsname</code> </td>
				<td><code>\listfigurename</code> </td>
					    <td><code>\listtablename </td> </tr>
</table>

<p>Nag³ówki s± definiownane przy pomocy poleceñ 
<code>\section*{<i>nazwa</i>&nbsp;}</code> 
dla artyku³u i 
<a href=chap.html><code>\chapter*{<i>nazwa</i>&nbsp;}</code></a> 
dla ksi±¿ki i raportu.

<h3><a name=poz>Wstawianie pozycji na listê</a></h3>

<p>Pozycja do spisu jest wstawiana przy pomocy polecenia:<br>
<small>
<pre>
\addcontentsline{<i>zbiór</i>&nbsp;}{<i>typ</i>&nbsp;}{<i>tekst</i>&nbsp;}
</pre>
</small>
lub
<small>
<pre>
\addtocontents{<i>zbiór</i>&nbsp;}{<i>tekst</i>&nbsp;}
</pre>
</small>
gdzie:
<dl>
<dt><i>zbiór</i>
<dd> okre¶la rozszerzenie nazwy zbioru, otwieranego poleceniem
wstawienia spisu (<code>.toc</code> -- spis tre¶ci,
<code>.lof</code> -- spis rysunków,
<code>.lot</code> -- spis tabel)
<dt><i>typ</i> 
<dd>w przypadku spisu tre¶ci <i>typ</i> odpowiada nazwie
poziomu (<code>chapter</code>, <code>section</code> ...), a ¶ci¶le
nazwie polecenia <code>\l@<i>typ</i></code> (np. <code>\l@section</code>), 
w przypadku spisu
tabel -- <code>\l@table</code> i spisu rysunków -- <code>\l@figure</code>
<dt><i>strona</i> 
<dd>numer strony na której wyst±pi³ obiekt
</dl>
Polecenie <code>\addtocontents</code> s³u¿y do wstawienia dodatkowych
informacji do spisu np. poleceñ wstawiaj±cych dodatkowy odstêp
pionowy
<small>
<pre>
\addtocontents{toc}{\protect\vspace{2ex}}
</pre>
</small>

Dodatkowo zosta³a zdefiniowana makroinstrukcja <code>\numberline</code>
s³u¿±ca do przekazania numeru (identyfikatora) obiektu; np.
numer rozdzia³u.
<p>Przyk³adowe polecenie wstawiaj±ce pozycjê do spisu tre¶ci wygl±da 
nastêpuj±co:
<small>
<pre>
\addcontentsline{toc}{section}{\protect\numberline{\thesection}Structure of 
the Table Contents}
</pre>
</small>

Polecenie to jest u¿ywane automatycznie przez makroinstrukcje
definiuj±ce nag³ówki (rozdzia³, podrozdzia³ ...) w wersji ,,bezgwiazdkowej''
oraz polecenie
<code>\caption</code> u¿yte w ¶rodowiskach <code>table</code>
i <code>figure</code>.


<h3><a name=budowa>Budowa spisu</a></h3>

Wy¿ej opisane polecenia powoduj± umieszczenie w zbiorze dodatkowym
polecenia
<small>
<pre>
\contentsline{<i>typ</i>&nbsp;}{<i>tekst</i>&nbsp;}{<i>strona</i>&nbsp;}
</pre>
</small>
gdzie:
<dl>
<dt><i>typ</i> 
<dd>okre¶la typ (<code>chapter</code>, <code>section</code> 
... <code>figure</code>, <code>table</code>) -- nazwê polecenia
<code>\l@<i>typ</i></code>, które jest tak naprawdê wywo³ywane
<dt><i>tekst</i>
<dd>tre¶æ tytu³u
<dt><i>strona</i>
<dd>numer strony
</dl>
dalsze parametry polecenia <code>\contentsline</code> s± przekazywane do 
polecenia <code>\l@...</code>.

Poleceniami odpowiedzialnymi za wygl±d odpowiednich pozycji w spisie s±:<br>
<code>l@part</code><br>
<code>l@chapter</code><br>
<code>l@section</code><br>
<code>l@subsection</code><br>
<code>l@subsubsection</code><br>
<code>l@paragraph</code><br>
<code>l@subparagraph</code><br>
<code>l@figure</code><br>
<code>l@table</code><br>
Sposób prezentacji jest standardowo definiowany przy pomocy 
jednej -- sparametryzowanej makroinstrukcji:
<small>
<pre>
\@dottedtocline{<i>poziom</i>&nbsp;}{<i>wciêcie</i>&nbsp;}{<i>pole numeru</i>&nbsp;}{<i>tekst</i>&nbsp;}{<i>strona</i>&nbsp;}
</pre>
</small>
gdzie:
<dl>
<dt><i>poziom</i>
<dd>parametr decyduje czy pozycja znajdzie siê w spisie tre¶ci,
stanie sie tak, je¿eli jest on mniejszy od warto¶ci
parametru <code>\tocdepth</code>
<dt><i>wciêcie</i>
<dd>szeroko¶æ ca³kowita lewego marginesu
<dt><i>pole numeru</i>
<dd>szeroko¶æ pola numeru, druga i nastêpne linie tytu³u bêd±
wciête o <i>wciêcie</i>&nbsp;+<i>pole numeru</i>&nbsp;
<dt><i>tekst</i>
<dt><i>strona</i>
<dd>parametry przekazane z makroinstrukcji <code>\l@...</code>
</dl>
Dodatkowo wygl±d pozycji spisu zale¿y od makroinstukcji:
<table>
<tr><td><code>\@pnumwidth	</td><td> szeroko¶æ pola przeznaczonego
					na numer strony
<tr><td><code>\@tocrmarg	</td><td> szeroko¶æ prawego marginesu
					(nie obejmuje pola numeru strony)
<tr><td><code>\@dotsep		</td><td> odleg³o¶æ miêdzy dwoma kropkami
			(w jednostkach <i>mu</i><sup><a href=#fn1>1</a></sup>)
</table>
Powy¿sze polecenia s± definiowane jako:
<small>
<pre>
\makeatletter
\newcommand{\@pnumwidth}{1.55em}
\newcommand{\@tocrmarg}{2.55em}
\newcommand{\@dotsep}{4.5}
\makeatother
</pre>
</small>

<p>
<center>
Znaczenie parametrów na postaæ spisu<p>
<img src=spis.gif><br clear=allwidth=600 height=200>
</center>

<small>
<pre>
\contentsline {section}{\numberline {1.1}To jest przyk³adowy tytu³
podrozdzia³u dla raportu}{1}
</pre>
</small>
gdzie makroinstrukcja <code>\l@section</code> jest zdefiniowana jako:
<small>
<pre>
\makeatletter
\newcommand*\l@section{\@dottedtocline{1}{1.5em}{2.3em}}
\makeatother
</pre>
</small>

oczywi¶cie nie ka¿de polecenie <code>\l@...</code> musi
byæ zdefiniowane przy pomocy polecenie <code>\@dottedtocline</code>,
w szczególno¶ci jest tak w przypadku 
<a href="l_chap.html"><code>\l@chapter</code></a>


<p>
<small>
<hr width=20% align=left>
<sup><a name=fn1>1</a></sup> 18 mu = 1 em  -- <code>\fontdimen2</code>
dla fontu <code>symbols</code>

</small>


<hr>
<a href=../../index.html><img src="../../gify/lew-7vs.gif" hspace=10 border=0 align=left></a>
<a href=mailto:W.Macewicz@ia.pw.edu.pl><img src="../../gify/mail.gif" hspace=10 align=left></a>
<a href=http://www.ia.pw.edu.pl/~wujek/index.html>W³odzimierz Macewicz</a><br clear=all>
<hr>
</body>
</html>
