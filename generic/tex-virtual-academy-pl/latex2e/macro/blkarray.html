<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=iso-8859-2">
<title> Zastaw ciekawych makroinstrukcji </title>
<LINK REL="stylesheet" TYPE="text/css" HREF="mycss.css">
<meta http-equiv="Content-language" content="pl">
<meta name="Author" content="W³odzimierz Macewicz">
<meta name="Keywords" content="tex, latex, makroinstrukcje, pakiety makroinstrukcji, Wirtualna Akademia">
</head>
<body bgcolor=#a0f0a0>
<h2>blkarray</h2>
Pakiet zawiera makroinstrukcje u³atwiaj±ce sk³ad tabel;
zawiera w sobie polecenia analogiczne jak pakiety
<a href="hhline.html"><tt>hhline</tt></a> (rozszerzone), 
<a href="array.html"><tt>array</tt></a> i
<a href="multirow.html"><tt>multirow</tt></a>.

<p>Pakiet definiuje ¶rodowisko <tt>blockarray</tt> zastêpuj±ce ¶rodowiska
<tt>tabular</tt> i <tt>array</tt> (wewn±trz trybu matematycznego zachowuje siê
jak <tt>array</tt>, a w trybie tekstowym jak <tt>tabular</tt>). 
Postaæ wywo³ania jest podobna jak w przypadku ww. konstrukcji.<br>
<code>
\begin{blockarray}{<i>preambu³a</i>}<br>
<i>zawarto¶æ tabeli</i><br>
\end{blockarray}
</code><br>
lub<br>
<code>
\begin{blockarray}[<i>s</i>]{<i>preambu³a</i>}<br>
<i>zawarto¶æ tabeli</i><br>
\end{blockarray}
</code><br>
gdzie <i>s</i> okre¶la sposób pozycjonowania tabeli wzglêdem 
s±siedztwa; mo¿e przyjmowaæ warto¶ci: <tt>c</tt> -- center (warto¶æ domy¶lna),
<tt>b</tt> -- dó³ tabeli równo z lini± s±siedni±, <tt>t</tt> -- góra tabeli
równo z lini± s±siedni±
<p>
<a name="s_p">
<i>preambu³a</i></a> definiuje sposób prezentacji (sk³adu)
poszczególnych kolumn tabeli oraz okre¶la separatory kolumn; mog± siê w niej
znale¼æ nastêpuj±ce oznaczenia:<br>
<table border>
<tr><td><tt>       l	     </tt></td><td> dosuniêcie tekstu do lewej</td></tr>
<tr><td><tt>       r	     </tt></td><td> dosuniêcie tekstu do prawej</td></tr>
<tr><td><tt>       c	     </tt></td><td> centrowanie</td></tr>
<tr><td valign=middle><tt>m{<i>width</i>}
			     </tt></td><td>  Definiuje kolumnê o szeroko¶ci
			     <i>width</i>&nbsp;.
       			¦rodek celi w tej kolumnie (po³owa jej wysoko¶ci) pokrywa siê
			ze ¶rodkiem celi kolumny s±siedniej.
			 Odpowiednik:
                        <code>\parbox{<i>width</i>}</code>; tekst jest ³amany
			na szeroko¶ci <i>width</i>&nbsp;.</td></tr>
<tr><td valign=top><tt>       p{<i>width</i>}    </tt></td><td>  Równowa¿na:
			<code>\parbox[t]{<i>width</i>}</code>.
                        Pozycjonowanie w/g szczytu celi.</td></tr>
<tr><td valign=bottom><tt>       b{<i>width</i>}    </tt></td><td>  Równowa¿na
			<code>\parbox[b]{<i>width</i>}</code>.
       			Pozycjonowanie w/g do³u celi.</td></tr>
<tr><td><tt>       &gt;{<i>macro</i>}    </tt></td><td>  Mo¿e byæ u¿yte przed jednym z
			nastêpuj±cych typów: <code>l</code>, <code>r</code>,
                        <code>c</code>, <code>p</code>, <code>m</code> lub
			<code>b</code>.
                        Polecenie <i>macro</i>&nbsp; bêdzie wykonywane zawsze
			przed rozpoczêciem analizy materia³u celi w tak okre¶lonej
			kolumnie.</td></tr>
<tr><td><tt>       &lt;{<i>macro</i>}    </tt></td><td>  Mo¿e byæ u¿yte po jednym z
			nastêpuj±cych typów: <code>l</code>, <code>r</code>,
                        <code>c</code>, <code>p</code>, <code>m</code> lub
			<code>b</code>.
                        Polecenie <i>macro</i>&nbsp; bêdzie wykonywane zawsze
			na koñcu materia³u
			celi w tak okre¶lonej kolumnie.</td></tr>
<tr><td><tt>       |             </tt></td><td>  Wstawienie linii pionowej jako separatora kolumn;
       			odleg³o¶æ miêdzy kolumnami zostanie zwiêkszona
			o szeroko¶æ linii (w odró¿nieniu od oryginalnej
			definicji tabeli). Mo¿na wstawiæ dwa znaki <tt>|</tt>
			-- separatorem bêdzie linia podwójna (odleg³o¶æ miêdzy
			liniami okre¶la parametr <tt>\BAdoublerulesep</tt>).</td></tr>
<tr><td><tt>       @{<i>macro</i>}  </tt></td><td>  Mo¿e byæ u¿yte w dowolnym
			miejscu preambu³y zamiast separatora (np.: <code>|</code>).
			Polecenie <i>macro</i>&nbsp; zostanie wywo³ane miêdzy
			kolumnami (<b>kasowana</b> jest normalna
			odleg³o¶æ miêdzy kolumnami).</td></tr>
<tr><td><tt>       !{<i>macro</i>}  </tt></td><td>  Mo¿e byæ u¿yte w dowolnym
			miejscu preambu³y zamiast separatora (np.:
       			<code>|</code>).
			Polecenie <i>macro</i>&nbsp;zostanie wywo³ane
			miêdzy kolumnami (w odró¿nieniu od
			<code>@{...}</code> <b>nie jest kasowana</b> normalna
			odleg³o¶æ miêdzy kolumnami).</td></tr>
<tr><td valign="top"><tt><a name="amp">&amp;</a></tt></td><td>  
				Znak umieszczony przed symbolem
				separatora 
				kolumny (<tt>|</tt>) powoduje, ¿e w przypadku
				u¿ycia polecenia 
				<a href="#multicol"><tt>\BAmulticolumn</tt></a>
				nie trzeba w nim powtarzaæ definicji
				obramowania celi (w przypadku
				u¿ycia makra <tt>\BAmulticolumn</tt> w pierwszej
				kolumnie obramowanie z lewej strony <b>musi byæ
				redefiniowane</b>). W przypadku podwójnego obramowania
				(<tt>||</tt>) znak <tt>&amp;</tt> nale¿y
				umie¶ciæ <b>tylko</b> przed pierwszym  znakiem
				<tt>|</tt>.</td></tr>
<tr><td><tt>       )  </tt></td><td>  dodatkowa kolumna obejmuj±ca 
		nawiasem ca³± wysoko¶æ tabeli (p. ¶rodowisko <a href="#s_block"><tt>block</tt></a>)</td></tr>
<tr><td><tt>       \}  </tt></td><td>  dodatkowa kolumna obejmuj±ca 
		nawiasem ca³± wysoko¶æ tabeli (p. ¶rodowisko <a href="#s_block"><tt>block</tt></a>)</td></tr>
<tr><td><tt>       ]  </tt></td><td>   dodatkowa kolumna obejmuj±ca 
		nawiasem ca³± wysoko¶æ tabeli (p. ¶rodowisko <a href="#s_block"><tt>block</tt></a>) </td></tr>
<tr><td><tt>       (  </tt></td><td>   dodatkowa kolumna obejmuj±ca 
		nawiasem ca³± wysoko¶æ tabeli (p. ¶rodowisko <a href="#s_block"><tt>block</tt></a>) </td></tr>
<tr><td><tt>       \{  </tt></td><td>   dodatkowa kolumna obejmuj±ca 
		nawiasem ca³± wysoko¶æ tabeli (p. ¶rodowisko <a href="#s_block"><tt>block</tt></a>) </td></tr>
<tr><td><tt>       [  </tt></td><td>   dodatkowa kolumna obejmuj±ca 
		nawiasem ca³± wysoko¶æ tabeli (p. ¶rodowisko <a href="#s_block"><tt>block</tt></a>) </td></tr>
<tr><td><tt>       \Left{<i>tekst</i>}{<i>delimiter</i>}  </tt></td><td>  
<i>tekst</i> i <i>delimiter</i> stanowi kolumnê o zerowej szeroko¶ci;
konstrukcja s³u¿y do wstawienia dodatkowego opisu (sk³adanego antykw±) umieszczonego przed
delimiterem (mo¿e nim byæ jeden z nawiasów <tt>([{}])</tt>); delimiter obejmuje ca³± wysoko¶æ tabeli (p. <a href="#s_block"><tt>block</tt></a>).</td></tr>
<tr><td><tt>       \Right{<i>delimiter</i>}{<i>tekst</i>}  </tt></td>
<td><i>tekst</i> i <i>delimiter</i> stanowi kolumnê o zerowej szeroko¶ci;
 konstrukcja s³u¿y do wstawienia dodatkowego opisu (sk³adanego antykw±) umieszczonego po
delimiterze (mo¿e nim byæ jeden z nawiasów <tt>([{}])</tt>); delimiter obejmuje ca³± wysoko¶æ tabeli (p.
<a href="#s_block"><tt>block</tt></a>).</td></tr>
<tr><td><tt>       \BAenum  </tt></td><td>  dodatkowa kolumna zawieraj±ca numer
		kolejny wiersza (szeroko¶æ kolumny jest ustalona na
		<tt>2em</tt> bez wzglêdu czy siê to komu¶ podoba czy nie) 
		</td></tr>
<tr><td><tt>       *{<i>n</i>}{<i>parametry</i>}  </tt></td><td>  <i>n</i>-krotne powtórzenie
specyfikacji kolumny np:
		<code>*{3}{|c}</code> jest równowa¿ne <tt>|c|c|c</tt></td></tr>
</table>

<p>Parametry którymi mo¿na regulowaæ sposób budowania tabeli:<br>
<table border=1>
<tr><th>Polecenie </th><th> opis </th></tr>
<tr><td><code>\tabcolsep</code> </td><td> po³owa szeroko¶ci odstêpu miêdzy kolumnami
			tablicy (domy¶lnie 6pt)</td></tr>
<tr><td><code>\BAarrayrulewidth</code> </td><td> szeroko¶æ pionowej linii separuj±cej
				kolumny (o ile jest u¿ywana -- domy¶lnie
				 0.4pt)</td></tr>
<tr><td><code>\BAdoublerulesep</code> </td><td> odleg³o¶æ miêdzy dwoma liniami pionowymi
				stanowi±cymi separator kolumn (domy¶lnie 2pt)</td></tr>
<tr><td><code>\arraystretch</code> </td><td> ,,mno¿nik'' odstêpu miêdzy
				wierszami tablicy
				(np.
				<code>\renewcommand{\arraystretch}{1.5}</code>
				zwiêksza odstêp o 50%)</td></tr>
<tr><td><code>\BAextrarowheight</code> </td><td> dodatkowy odstêp miêdzy liniami (domy¶lnie 0pt)</td></tr>
<tr><td><code>\BAextraheightafterhline</code> </td><td> dodatkowy odstêp po
poziomej linii oddzielaj±cej</td></tr>
</table>


<p><b>Uwaga:</b><br>
W zwi±zku z realizacj± tabeli wystêpuje efekt uboczny ---
blokowane jest przenoszenie wyrazów (hyphenation) dla <b> pierwszego</b>
wyrazu w celi. Efekt mo¿emy wyeliminowaæ
wstawiaj±c pust± przestrzeñ o d³ugo¶ci 0pt na pocz±tku celi
(wykorzystuj±c mo¿liwo¶ci formowania preambu³y tabeli) np.<br>
<code>&gt;{\hspace{0pt}}p{20mm}</code>

<h3>Obramowania tabeli</h3>
<p>
W pakiecie jest zdefiniowane polecenie <tt>\BAhhline</tt> umo¿liwiaj±ce
uzyskanie ³adniejszych wykoñczeñ tabeli:<br>
Wywo³anie:<br>
<code>\BAhhline{<i>parametry</i>}</code><br>
na li¶cie parametrów mog± wystêpowaæ nastêpuj±ce symbole:<br>
<table border=1>
<tr><td>
<code>=</code></td><td> podwójna linia o szeroko¶ci danej kolumny</td></tr>
<tr><td>
<code>"</code></td><td> podwójna linia przerywana o szeroko¶ci danej kolumny</td></tr>
<tr><td>
<code>-</code></td><td> pojedyncza linia o szeroko¶ci danej kolumny</td></tr>
<tr><td>
<code>.</code></td><td> pojedyncza linia przerywana o szeroko¶ci danej kolumny</td></tr>
<tr><td>
<code>~</code></td><td> brak linii w danej kolumnie (pozwala zast±piæ
dyrektyw± <code>\BAhhline</code> dyrektywê <code>\cline</code>)</td></tr>
<tr><td>
<code>|</code></td><td> linia pionowa przecina (ma priorytet) konstrukcjê poziom±</td></tr>
<tr><td>
<code>:</code></td><td> linia pionowa styka siê z podwójn± poziom±</td></tr>
<tr><td>
<code>#</code></td><td> skrzy¿owanie podwójnych linii</td></tr>
<tr><td>
<code>t</code></td><td> górne wykoñczenie rogu (lewe lub prawe w zale¿no¶ci od
s±siedztwa)</td></tr>
<tr><td>
<code>b</code></td><td> dolne wykoñczenie rogu</td></tr>
<tr><td>
<code>*</code></td><td> powtórzenie sekwencji; np. <code>*{3}{==#}</code> jest równowa¿ne
<code>==#==#==#</code></td></tr>
</table>

<p>Przyk³ad ilustruje ró¿ne zestawienia po³±czeñ linii poziomych i pionowych
(niekoniecznie poprawnych)
 <table>
 <tr><td>
 <pre>
\begin{blockarray}{||cc||c|c||}
 \BAhhline{|t:==:t:==:t|}
 a &amp; b &amp; c &amp; d\\
 \BAhhline{|:==:|~|~||}
 1 &amp; 2 &amp; 3 &amp; 4\\
 \BAhhline{#==#~|=#}
 i &amp; j &amp; k &amp; l\\
 \BAhhline{||--||--||}
 w &amp; x &amp; y &amp; z\\
 \BAhhline{|:==|:==:|}
 1 &amp; 2 &amp; 3 &amp; 4 \\
 \BAhhline{|:==::=|=:|}
 5 &amp; 6 &amp; 7 &amp; 8 \\
 \BAhhline{|:="::"|=:|}
 9 &amp; 10 &amp; 11 &amp; 12 \\
 \BAhhline{||-|.||.|-||}
 13 &amp; 14 &amp; 15 &amp; 16\\
 \BAhhline{|b:==:b:==:b|}
 \end{blockarray}
 </pre>
</td><td><img src=BAhhline.png></td></tr>
</table>

<h3><a name="s_block">Wstawienie</a> materia³u o innej specyfikacji kolumn i delimiterów (<tt>(</tt>
, <tt>{</tt>, <tt>[</tt> i <tt>]</tt>, <tt>}</tt>, <tt>)</tt>)</h3>

<p>Pakiet udostêpnia ¶rodowisko <tt>block</tt> (i <tt>block*</tt>)
o nastêpuj±cej postaci wywo³ania:<br>
<tt>
\begin{block}{<i>preambu³a</i>}<br>
.<br>
.<br>
.<br>
\end{block}</tt><br>
lub<br><tt>
\begin{block*}{<i>preambu³a</i>}<br>
.<br>
.<br>
.<br>
\end{block*}</tt><br>
mo¿e byæ ono u¿yte wy³±cznie wewn±trz ¶rodowiska <tt>blockarray</tt>
(mo¿e byæ wielokrotnie zagnie¿d¿any)
<a href="#s_p"><i>preambu³a</i></a>  powinna byæ zgodna co do liczby kolumn
ze specyfikacj± kolumn umieszczon± w ¶rodowisku <tt>blockarray</tt>
(oprócz dostêpnych w niej parametrów, dodatkowo mog±  wyst±piæ polecenia
<tt>\BAmulticolumn</tt>, obejmuj±ce
kilka kolumn tabeli oraz <tt>\BAmultirow</tt> obejmuj±ce wszystkie
wiersze zawarte w ¶rodowisku <tt>block</tt>).
¦rodowisko umo¿liwia wstawienie kolumn, które bêd± inaczej
prezentowane ni¿ okre¶la to specyfikacja ¶rodowiska <tt>blockarray</tt>.
Wszystkie separatory kolumn i kolumny tabeli musz± byæ redefiniowane.
W przypadku u¿ycia konstrukcji nawiasowych w specyfikacji
tabeli wersja ,,bezgwiazdkowa'' ¶rodowiska umo¿liwia zdefiniowanie
innych konstrukcji nawiasowych (lub rezygnacjê z nich). W wersji
,,gwiazdkowej'' specyfikacja konstrukcji nawiasowych jest ignorowana
(pozostaj± w mocy specyfikacje ¶rodowiska <tt>blockarray</tt>; ró¿nice
najlepiej zilustruje przyk³ad:<br>
<table border=0>
<tr><td><tt>
\begin{blockarray}{[c|c]c\}}<br>
1111111 &amp; 222222 &amp; 333333 \\<br>
1 &amp; 2 &amp; 3 \\<br>
\begin{block*}{(ll)l\}}<br>
1111 &amp; 2222 &amp; 3333  \\<br>
11 &amp; 22 &amp; 33 \\<br>
\end{block*}<br>
1 &amp; 2 &amp; 3 \\<br>
\end{blockarray}<br></tt>
</td><td>
<img src="blk1.png">
</td></tr>
<tr><td><tt>
\begin{blockarray}{[c|c]c\}}<br>
1111111 &amp; 222222 &amp; 333333 \\<br>
1 &amp; 2 &amp; 3 \\<br>
\begin{block}{(ll)l\}}<br>
1111 &amp; 2222 &amp; 3333  \\<br>
11 &amp; 22 &amp; 33 \\<br>
\end{block}<br>
1 &amp; 2 &amp; 3 \\<br>
\end{blockarray}<br></tt>
	</td><td>
<img src="blk2.png">
</td></tr>
</table>
<a name="p_block">Przyk³ad</a> u¿ycia polecenia <tt>\BAmulticolumn</tt> wewn±trz preambu³y
¶rodowiska <tt>block</tt><br>
<table>
<tr><td><tt>
\begin{blockarray}{||l|c|c|t{1cm}|c|c||}<br>
\BAhhline{|t:======:t|}<br>
2s &amp; ss &amp;ss &amp;ss &amp;ss&amp;ss\\<br>
\BAhhline{||------||}<br>
\begin{block}{||l|l|\BAmulticolumn{2}{r}|l|l||}<br>
1 &amp; 2 &amp; 3 4 &amp; 5 &amp; 6\\<br>
\end{block}<br>
\BAhhline{||------||}<br>
a &amp; b &amp; c &amp; d &amp; e &amp; f\\<br>
\BAhhline{|b:======:b|}<br>
\end{blockarray}
</tt></td>
	<td>
<img src="blk5.png">
</td></tr>
</table>

<p>
<a name="m_b">U¿ycie</a> konstrukcji <tt>\BAmultirow</tt> w preambule ¶rodowiska <tt>block</tt>
wymaga dodatkowego komentarza. Materia³ który ma byæ sk³adany w bloku o
wysoko¶ci wszystkich wierszy ¶rodowiska <tt>block</tt> mo¿e byæ wprowadzany 
w jednym lub kilku wierszach (w tak okre¶lonej kolumnie). Je¿eli jest on
podany w kilku wierszach to jedynym efektem jest zachowanie podzia³u na wiersze
(zapis ,,od nowej linii''), bêdzie on i tak stanowi³ ca³o¶æ, która bêdzie pozycjonowana
wzglêdem ¶rodka wysoko¶ci wszystkich wierszy.
<p>
<table>
<tr><td><tt>
\begin{blockarray}{||l|c|c|t{1cm}|c|c||}<br>
\BAhhline{|t:======:t|}<br>
2s &amp; ss &amp;ss &amp;ss &amp;ss&amp;ss\\<br>
\BAhhline{||------||}<br>
\begin{block}{||l|l|l|l|l|\BAmultirow{1in}||}<br>
1 &amp; 2 &amp; 3 &amp; 4 &amp; 5 &amp; \relax\\<br>
1 &amp; 2 &amp; 3 &amp; 4 &amp; 5 &amp; to jest multirow to jest multirow
\\<br>
1 &amp; 2 &amp; 3 &amp; 4 &amp; 5 &amp; \relax\\<br>
1 &amp; 2 &amp; 3 &amp; 4 &amp; 5 &amp; \relax\\<br>
1 &amp; 2 &amp; 3 &amp; 4 &amp; 5 &amp; to jest multirow to jest multirow
\\<br>
1 &amp; 2 &amp; 3 &amp; 4 &amp; 5 &amp; \relax\\<br>
1 &amp; 2 &amp; 3 &amp; 4 &amp; 5 &amp; \relax\\<br>
\end{block}<br>
\BAhhline{||------||}<br>
a &amp; b &amp; c &amp; d &amp; e &amp; f\\<br>
\BAhhline{|b:======:b|}<br>
\end{blockarray}
</tt></td><td>
<img src="blk6.png">
</td></tr>
</table>

<p><b>Uwaga!</b> zawarto¶æ kolumn, które nie zawieraj± materia³u wchodz±cego
w sk³ad kolumny musi zawieraæ ,,co¶'' np. materia³ ,,pusty''
(<tt>\relax</tt>).

<p>Je¶li wysoko¶æ sk³adu materia³u przekracza wysoko¶æ wszystkich wierszy nie
wp³ywa to
na wysoko¶æ delimiterów kolumn, pojawia siê efekt widoczny w poni¿szym
przyk³adzie<br>
<table>
<tr><td><tt>
\begin{blockarray}{||l|c|c|t{1cm}|c|c||}<br>
\BAhhline{|t:======:t|}<br>
2s &amp; ss &amp;ss &amp;ss &amp;ss&amp;ss\\<br>
\BAhhline{||------||}<br>
\begin{block}{||l|l|l|l|l|\BAmultirow{1in}||}<br>
1 &amp; 2 &amp; 3 &amp; 4 &amp; 5 &amp; \relax\\<br>
1 &amp; 2 &amp; 3 &amp; 4 &amp; 5 &amp; to jest multirow to jest multirow<br>
to jest multirow to jest multirow to jest multirow \\<br>
1 &amp; 2 &amp; 3 &amp; 4 &amp; 5 &amp; \relax\\<br>
1 &amp; 2 &amp; 3 &amp; 4 &amp; 5 &amp; \relax\\<br>
1 &amp; 2 &amp; 3 &amp; 4 &amp; 5 &amp; to jest multirow to jest multirow \\<br>
1 &amp; 2 &amp; 3 &amp; 4 &amp; 5 &amp; \relax\\<br>
1 &amp; 2 &amp; 3 &amp; 4 &amp; 5 &amp; \relax\\<br>
\end{block}<br>
\BAhhline{||------||}<br>
a &amp; b &amp; c &amp; d &amp; e &amp; f\\<br>
\BAhhline{|b:======:b|}<br>
\end{blockarray}
</tt></td><td>
<img src="blk7.png">
</td></tr>
</table>


<h3>Tworzenie nowych typów kolumn</h3>

Za pomoc± polecenia <tt>\BAnewcolumntype</tt> mo¿na tworzyæ nowe typy kolumn.
Sk³adnia polecenia jest nastêpuj±ca:<br>
<tt>
\BAnewcolumntype{<i>nazwa</i>}{<i>definicja</i>}</tt><br>
lub<br>
<tt>
\BAnewcolumntype[<i>n</i>]{<i>nazwa</i>}{<i>definicja</i>}</tt><br>
gdzie:
<dl>
<dt><i>nazwa</i> jest <b>jednoliterowym</b> okre¶leniem nowego typu
kolumny <br>
<dt><i>definicja</i> okre¶la sposób sk³adu zawarto¶ci celi w danej kolumnie np:<br>
<tt>\BAnewcolumntype{c}{&gt;{\hfil}&lt;{\hfil}}</tt><br>
definiuje kolumnê, w której zawarto¶æ celi jest centrowana<br>
<dt><i>n</i> jest liczb± parametrów nowej specyfikacji kolumny np:<br>
<tt>
\BAnewcolumntype[1]{t}{&gt;{\rightskip=0pt plus 1fil\vtop\BA@startpbox{#1}}&lt;{\BA@endpbox}}</tt><br>
definiuje kolumnê analogiczn± do <tt>p</tt> ale ³aman± w ,,chor±giewkê'' --
parametr okre¶la szeroko¶æ sk³adu. Wersja ulepszona, w której równie¿ pierwszy
wyraz podlega podzia³owi wygl±da nastêpuj±co:<br>
<tt>
\BAnewcolumntype[1]{x}{&gt;{\rightskip=0pt plus 1fil\vtop\BA@startpbox{#1}\hskip0pt}&lt;{\BA@endpbox}}</tt><br>
</dl>


<h3>£±czenie pól tabeli w kolumnie (w pionie) </h3>
<p>Pakiet <tt>blkarray</tt> udostêpnia polecenie <tt>\BAmultirow</tt>,
umo¿liwiaj±c± ³±czenie cel tabeli w pionie, podobnie jak pakiet
<a href="multirow.html"><tt>multirow</tt></a>, sk³adnia wywo³ania jest inna;
wygl±da ona nastêpuj±co:<br>
<tt>\BAmulticolumn{<i>szeroko¶æ</i>}{<i>tekst</i>}</tt><br>
Sk³adany materia³ obejmuje <b>ca³± wysoko¶æ tabeli</b> (je¿eli jest u¿yte ¶rodowisko
<tt>block</tt> to materia³ bêdzie powielony (sic!))<br>
<table>
<tr><td><tt>
\begin{blockarray}{||l|c|c|t{1cm}|c|c||}<br>
\BAhhline{|t:======:t|}<br>
2s &amp; ss &amp;ss &amp;ss &amp;ss&amp;ss\\<br>
\BAhhline{||------||}<br>
1 &amp; 2 &amp; 3 &amp; 4 &amp; 5 &amp; \\<br>
1 &amp; 2 &amp; 3 &amp; 4 &amp; 5 &amp; \\<br>
         \BAmultirow{4cm}{to jest multirow to <br>
jest multirow} \\<br>
1 &amp; 2 &amp; 3 &amp; 4 &amp; 5 &amp; \\<br>
\begin{block}{||l|l|l|l|l|l||}<br>
1 &amp; 2 &amp; 3 &amp; 4 &amp; 5 &amp; 6\\<br>
\end{block}<br>
1 &amp; 2 &amp; 3 &amp; 4 &amp; 5 &amp; \\<br>
1 &amp; 2 &amp; 3 &amp; 4 &amp; 5 &amp; \\<br>
1 &amp; 2 &amp; 3 &amp; 4 &amp; 5 &amp; \\<br>
\BAhhline{||------||}<br>
a &amp; b &amp; c &amp; d &amp; e &amp; f\\<br>
\BAhhline{|b:======:b|}<br>
\end{blockarray}
</tt></td><td>
<img src="blk8.png">
</td></tr>
</table>
<p>Je¿eli chcemy, aby materia³ obejmowa³ jedynie okre¶lon± liczbê wierszy (a nie
wszystkie wiersze) w danej kolumnie to nale¿y u¿yæ konstrukcji <tt>block</tt>
³±cz±c j± z makroinstrukcj± <tt>\BAmultirow</tt> (p. u¿ycie konstrukcji
<tt>\BAmultirow</tt> w <a href="#m_b">preambule ¶rodowiska <tt>block</tt></a>).


<h3>£±czenie pól tabeli w wierszu (w poziomie) </h3>
<a name="multicol"></a>
Podobnie jak w ¶rodowisku <tt>tabular</tt> mo¿na uzyskaæ efekt po³±czenia
kilku cel tabeli w jedn±, obejmuj±c± kilka kolumn; s³u¿y do tego
makroinstrukcja <tt>\BAmulticolumn</tt> -- postaæ wywo³ania jest nastêpuj±ca:<br>
<tt>\BAmulticolumn{<i>n</i>}{<i>specyfikacja</i>}{<i>materia³</i>}</tt><br>
<i>n</i> -- liczba kolumn, któr± ma obejmowaæ konstrukcja,<br>
<i>specyfikacja</i> -- okre¶lenie sk³adu kolumny, analogicznie jak w
<a href="#s_p">specyfikacji kolumn tabeli</a>. Je¶li <tt>\BAmulticolumn</tt>
obejmuje pierwsz± kolumnê tabeli <i>specyfikacja</i> musi zawieraæ
definicjê obramowania z <b>lewej strony</b>. Specyfikacjê obramowania z 
prawej strony celi mo¿na pomin±æ, je¶li definicja obramowania kolumny zawarta
w specyfikacji tabeli, jest poprzedzona znakiem 
<a href="#amp"><tt>&amp;</tt></a><br>
<i>materia³</i> okre¶la zawarto¶æ celi i bêdzie sk³adany zgodnie ze
<i>specyfikacja</i>
<p>
Przyk³ad:<br>
separator podwójnej celi z prawej strony jest zdefiniowany za pomoc±
znaku <tt>&amp;</tt>
<table>
<tr><td><tt>
\begin{blockarray}{||l|c|c&amp;|t{1cm}|c|c||}<br>
\BAhhline{|t:======:t|}<br>
2s &amp; ss &amp;ss &amp;ss &amp;ss&amp;ss\\<br>
\BAhhline{||------||}<br>
&amp; \BAmulticolumn{2}{c}{a  b} &amp; c &amp; d &amp; e\\<br>
\BAhhline{||------||}<br>
a &amp; b &amp; c &amp; d &amp; e &amp; f\\<br>
\BAhhline{|b:======:b|}<br>
\end{blockarray}
</tt>
</td><td>
<img src="blk3.png">
</td></tr>
</table>
W poni¿szej tabeli brak definicji separatora z prawej strony podwójnej celi
<table>
<tr><td><tt>
\begin{blockarray}{||l|c|c|t{1cm}|c|c||}<br>
\BAhhline{|t:======:t|}<br>
2s &amp; ss &amp;ss &amp;ss &amp;ss&amp;ss\\<br>
\BAhhline{||------||}<br>
&amp; \BAmulticolumn{2}{c}{a  b} &amp; c &amp; d &amp; e\\<br>
\BAhhline{||------||}<br>
a &amp; b &amp; c &amp; d &amp; e &amp; f\\<br>
\BAhhline{|b:======:b|}<br>
\end{blockarray}
</tt></td><td>
<img src="blk4.png">
</td></tr>
</table>
Makroinstrukcjê <tt>\BAmulticolumn</tt> mo¿na u¿ywaæ wewn±trz
preambu³y ¶rodowiska <tt>block</tt> (oczywi¶cie bez specyfikacji zawarto¶ci 
celi; p. <a href="#p_block">przyk³ad</a>).

<h3>Wstawienie materia³u nie podlegaj±cego podzia³owi na kolumny</h3>
W pakiecie jest zdefiniowane polecenie <tt>\BAnoalign</tt> umo¿liwiaj±ce
wstawienie tekstu, który nie podlega podzia³owi na kolumny -- zajmie on
szeroko¶æ ca³ej tabeli (mo¿e byæ ono u¿yte wewn±trz ¶rodowiska <tt>block</tt>). Sk³adnia wywo³ania jest nastêpuj±ca:<br>
<tt>
\BAnoalign{tekst}</tt><br>
lub<br>
<tt>
\BAnoalign*{tekst}</tt><br>
Polecenie tworzy ,,dziurê'' w normalnej strukturze tabeli.
Wersja ,,gwiazdkowa'' nie powoduje przerwania ci±g³o¶ci nawiasów
separuj±cych  (definiowanych konstrukcjami:
<tt>(</tt>, <tt>{</tt>, <tt>[</tt> i <tt>]</tt>, <tt>}</tt>, <tt>)</tt>, <tt>\Right</tt>
i <tt>Left</tt>) -- niestety z powodu b³êdu wersja ta jest na ogó³
bezu¿yteczna. Ci±g³o¶æ linii pionowych jest zawsze przerywana.

<table>
<tr><td><tt>
\begin{blockarray}{l|c|c|t{1cm}|c|c\}}<br>
2s &amp; ss &amp;ss &amp;ss &amp;ss&amp;ss\\<br>
2s &amp; ss &amp;ss &amp;ss &amp;ss&amp;ss\\<br>
\BAnoalign{ala ma kota, a kot ma Ale<br>
ala ma kota, a kot ma Ale<br>
ala ma kota, a kot ma Ale}<br>
a &amp; b &amp; c &amp; d &amp; e &amp; f\\<br>
a &amp; b &amp; c &amp; d &amp; e &amp; f\\<br>
\end{blockarray}
</tt></td><td>
<img src="blk9.png">
</td></tr>
</table>

<h3>Przypisy w tabelach</h3>
W tabelach definiowanych za pomoc± ¶rodowiska <tt>blockarray</tt> mo¿na 
definiowaæ przypisy (za pomoc± standardowego polecenie <tt>\footnote</tt>)
Standardowo przypisy s± umieszczane bezpo¶rednio
pod tabel± i s± one
numerowane za pomoc± polecenia <tt>\fnsymbol</tt>. U¿ycie polecenia
<tt>\BAtablenotesfalse</tt> (zmiana warto¶ci zmiennej logicznej) powoduje, ¿e
przypis bêdzie umieszczony na dole strony (tak jak wszystkie inne przypisy i
z u¿yciem standardowego licznika przypisów).
W typ wypadku, je¶li ¶rodowisko <tt>blockarray</tt> jest umieszczone wewn±trz ¶rodowiska
<tt>table</tt> lub <tt>figure</tt> przypisy <b>nie bêd± prezentowane!</b>).

<p>
Wywo³anie makroinstrukcji  <tt>\BAparfootnotes</tt> powoduje, ¿e przypisy
bêd± sk³adane jako jeden akapit (tylko w przypadku <tt>\BAtablenotestrue</tt>).


<hr>

<a href=../../texologia.html><img src="../../gify/lew-7vs.gif" hspace=10 border=0 align=left></a>
<a href=mailto:W.Macewicz@ia.pw.edu.pl><img src="../../gify/mail.gif" hspace=10 align=left></a>
<a href=http://www.ia.pw.edu.pl/~wujek/index.html>W³odzimierz Macewicz</a><br clear=all>
<hr>
<!--#config timefmt="%y-%m-%d" -->
Ostatnie zmiany: <!--#echo var="LAST_MODIFIED" -->.

</body>
</html>
