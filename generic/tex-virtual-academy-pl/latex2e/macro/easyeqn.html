<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=iso-8859-2">
<title> Zastaw ciekawych makroinstrukcji </title>
<LINK REL="stylesheet" TYPE="text/css" HREF="mycss.css">
<meta http-equiv="Content-language" content="pl">
<meta name="Author" content="W³odzimierz Macewicz">
<meta name="Keywords" content="tex, latex, makroinstrukcje, pakiety makroinstrukcji, Wirtualna Akademia">
</head>
<body>
<h2><a name="easyeqn">easyeqn</a></h2>

<p>Pakiet udostêpnia ¶rodowiska <tt>EQ</tt> i <tt>EQA</tt> s³u¿±ce do prezentacji
wzorów matematycznych (jest zgodny z pakietem <a href=showkeys.html><tt>showkeys</tt></a>).
G³ówn± ró¿nic± w stosunku do ¶rodowisk
<tt>equation</tt> i <tt>eqnarray</tt> jest to, ¿e wzory s± numerowane
tylko wtedy, gdy w tek¶cie wystêpuje do nich odwo³anie
(oczywi¶cie przez etykietê).</p>

<p>Pakiet posiada nastêpuj±ce opcje:<br/>
<table>
<tr valign="top"><td>
<tt>allnumber</tt>
	</td><td>
	numerowane s± wszystkie wzory (definiowane ¶rodowiskami <tt>EQ</tt>
		lub <tt>EQA</tt>) -- nie tylko te do których s± odwo³ania
		</td></tr>
<tr valign="top"><td>
<tt>warning</tt>
	</td><td>
	podawane s± komunikaty o wzorach etykietowanych, do których nie ma 
	odwo³añ
		</td></tr>
<tr valign="top"><td>
<tt>easyold</tt>
	</td><td>
	 definiowane s± ¶rodowiska wystêpuj±ce w starszych wersjach pakietu:
	 <tt>EQS</tt>,
	 <tt>EQS*</tt>,
	 <tt>EQ*</tt>,
	 <tt>EQA*</tt>
		</td></tr>
<tr valign="top"><td>
<tt>fleqn</tt>
	</td><td>
	wzory s± dosuniête do lewego marginesu; lewy margines mo¿na ustaliæ
	poleceniem <tt>\eqleftmargin{<i>d³ugosæ</i>}</tt>; je¶li
		równocze¶nie jest u¿yta opcja <tt>leqno</tt>
		to wielko¶æ marginesu musi uwzglêdniæ miejsce
		na oznaczenie wzoru</td></tr>
<tr valign="top"><td>
<tt>leqno</tt>
	</td><td>
	oznaczenia wzorów s± wstawiane z lewej strony
		</td></tr>
<tr valign="top"><td>
<tt>math</tt>
	</td><td>
	powoduje definiowanie dodatkowych makroinstrukcji przydatnych przy
	sk³adzie wzorów
		</td></tr>
</table>
</p>

<p>Prosty przyk³ad<br/>
<table><tr valign="top"><td>
<pre>
\begin{EQ}\label{eq:1}
    \frac{x}{y} = z
\end{EQ}
\begin{EQ}\label{eq:2}
    \frac{x}{y} = z
\end{EQ}
I will refer only to \eqref{eq:1} or,
in the old style, \refeq{eq:1}.
</pre></td><td><img src="easyeqn1.png"></td></tr>
</table><br/>
ilustruje dzia³anie i przy okazji pokazuje, ¿e zosta³y zdefiniowane dwie makroinstrukcje
s³u¿±ce
do powo³ania siê na dany wzór (makroinstrukcja <tt>ref</tt>  nie w³±cza 
mechanizmu oznaczania wzoru i generowania etykiet),
ró¿nice w dzia³aniu widaæ na ilustracji; uzgodnienie po³±czeñ wymaga trzykrotnej kompilacji.</p>

<p>Zarówno ¶rodowisko <tt>EQ</tt> jak i <tt>EQA</tt> mo¿e s³u¿yæ do budowy
tabel, ró¿nica polega na tym, ¿e w przypadku <tt>EQ</tt> ca³y wzór jest
opatrzony <b>jednym</b> numerem, a w przypadku <tt>EQA</tt> numerem jest
opatrzony
<b>ka¿dy</b> wiersz tabeli (o ile jest on zaetykietowany 
i jest do niego odwo³anie lub
zosta³o u¿yte polecenie <tt>\yesnumber</tt>).</p>
<table><tr><td>
<pre>
\begin{EQ}[rcll]
   \nabla\cdot(\rho\nabla u)&=&f \qquad
      &\mbox{on $\Omega$} \\
   u&=&u_{0}&\mbox{on $A\subset\partial\Omega$} \\
   (\rho\nabla u)\cdot n&=&u_{1}
      &\mbox{on $B\subset\partial\Omega$}\label{eq2}
\end{EQ}
in \eqref{eq2} ....
</pre></td><td><img src="easyeqn2.png"></td></tr>
<tr><td>
<pre>
\begin{EQA}[rcll]
   \nabla\cdot(\rho\nabla u)&=&f \qquad
      &\mbox{on $\Omega$} \\
   u&=&u_{0}&\mbox{on $A\subset\partial\Omega$}
		   \label{eq3}\\
   (\rho\nabla u)\cdot n&=&u_{1}
      &\mbox{on $B\subset\partial\Omega$}\label{eq4}
\end{EQA}
in \eqref{eq3} and \eqref{eq4} ....
</pre></td><td><img src="easyeqn3.png"></td></tr>
</table><br/>
W obu ¶rodowiskach parametr opcjonalny okre¶la sposób pozycjonowania
poszczególnych kolumn:<br/>
<table>
<tr valign="top"><td><tt>l</tt></td><td nowrap>--</td><td>
	do lewej krawêdzi
		</td></tr>
<tr valign="top"><td><tt>c</tt></td><td nowrap>--</td><td>
		centralnie
		</td></tr>
<tr valign="top"><td><tt>r</tt></td><td nowrap>--</td><td>
	do prawej krawêdzi
		</td></tr>
<tr valign="top"><td><tt>.</tt></td><td nowrap>--</td><td>
        powoduje skasowanie odleg³o¶ci miêdzy kolumnami (odpowiada
	miêdzykolumnowej specyfikacji
	<tt>@{}</tt>)
		</td></tr>
</table><br/>
polecenia przej¶cia do nowego wiersza (<tt>//</tt>) mo¿na u¿ywaæ nawet wtedy, gdy 
parametr opcjonalny nie jest zdefiniowany -- domy¶lnie zdefiniowana
jest jedna wycentrowana kolumna (ale nie jest przewidziane miejsce
na oznaczenie wzoru).</p>
<p>
Do ³±czenia kolumn s³u¿y makroinstrukcja <tt>\eqmulticol</tt> o nastêpuj±cej
sk³adni:<br/>
<tt>
\eqmulticol{<i>ncol</i>}{<i>align</i>}{<i>zawarto¶æ</i>}</tt><br/>
gdzie:
<table>
<tr valign="top"><td>
	<tt><i>ncol</i></tt> </td><td nowrap>-- </td><td>
	liczba ³±czonych kolumn
	</td></tr>
<tr valign="top"><td>
	<tt><i>align</i></tt> </td><td nowrap>-- </td><td>
	sposób pozycjonowania kolumny (tak jak w opcjonalnym parametrze
	¶rodowisk)
	</td></tr>
<tr valign="top"><td>
	<tt><i>zawarto¶æ</i></tt> </td><td nowrap>-- </td><td>
	zawarto¶æ kolumny
	</td></tr>
</table>
</p>
<h4>Dodatkowe polecenia:</h4><p class="noindent">
<tt>\yesnumber</tt> -- wymusza numerowanie wzoru (lub wiersza tabeli 
w którym jest u¿yty)<br/>
<table>
<tr><td>
<tt>
\begin{EQ}[rcl]\yesnumber<br/>
     a & = & \frac{1}{23} \\<br/>
     b & = & \sqrt{\frac{1}{23}}<br/>
\end{EQ}
</tt></td><td>
<img src="easyeqn4.png">
	</td></tr>
</table><br/>
<tt>equationleft</tt> -- powoduje, ¿e wszystkie nastêpne wzory bêd± dosuniête
do lewego marginesu (p. opcja <tt>fleqn</tt>)<br/>
<tt>equationcenter</tt> -- powoduje, ¿e wszystkie nastêpne wzory bêd±
centrowane<br/>
<tt>numberleft</tt> -- powoduje, ¿e we wszystkich nastêpnych wzorach
oznaczenia bêd± po lewej stronie (p. opcja <tt>lefteqno)</tt><br/>
<tt>numberright</tt> -- powoduje, ¿e we wszystkich nastêpnych wzorach
oznaczenia bêd± po prawej stronie<br/>
<tt>\eqspacing{<i>odleg³o¶æ</i>}</tt> -- odleg³o¶æ przed i po wzorze<br/>
<tt>\eqcolumnsep{<i>odleg³o¶æ</i>}</tt> -- odleg³o¶æ miêdzy kolumnami<br/>
<tt>\eqrowsep{<i>odleg³o¶æ</i>}</tt> -- odleg³o¶æ miêdzy wierszami<br/>
<tt>\eqlabeltop</tt> -- oznaczenie wzoru na górze<br/>
<tt>\eqlabelbot</tt> -- oznaczenie wzoru na dole<br/>
<tt>\eqlabelcenter</tt> -- oznaczenie wzoru centralnie<br/>
<table>
<tr><td>
<pre>
\eqlabeltop
\begin{EQ}
   \nabla\cdot(\rho\nabla u) = 0 \\
   \nabla\cdot(\rho\nabla u) = 0 \\
   \nabla\cdot(\rho\nabla u) = 0 \label[TOP]
\end{EQ}
</pre>
</td><td>
<img src="easyeqn6.png">
</td></tr>
<tr><td>
<pre>
\eqlabelbot
\begin{EQ}
   \nabla\cdot(\rho\nabla u) = 0 \\
   \nabla\cdot(\rho\nabla u) = 0 \\
   \nabla\cdot(\rho\nabla u) = 0 \label[BOT]
\end{EQ}
</pre>
</td><td>
<img src="easyeqn7.png">
</td></tr>
<tr><td>
<pre>
\eqlabelcenter
\begin{EQ}
   \nabla\cdot(\rho\nabla u) = 0 \\
   \nabla\cdot(\rho\nabla u) = 0 \\
   \nabla\cdot(\rho\nabla u) = 0 \label[CENTER]
\end{EQ}
</pre>
</td><td>
<img src="easyeqn8.png">
</td></tr>
<tr valign="top"><td colspan=2>zmiana pozycji oznaczenia wzoru jest mo¿liwa jedynie we wzorach
wieloliniowych.</td></tr>
</table><br/>

makroinstrukcja <tt>\label</tt> ma dodatkowe w³asno¶ci:<br/>
<table>
<tr valign="top"><td>
<tt>\label{<i>nazwa_etykiety</i>}</tt> </td><td nowrap>-- 
		</td><td>dzia³anie standardowe</td></tr>
<tr valign="top"><td nowrap>
<tt>\label[<i>tekst</i>]</tt> </td><td nowrap>-- 
		</td><td>wzór zostanie oznaczony podanym
		tekstem (nie jest definiowana etykieta,
		na któr± mo¿na siê powo³aæ)</td></tr>
<tr valign="top"><td nowrap>
<tt>\label[<i>tekst</i>]{<i>nazwa_etykiety</i>}</tt> </td><td nowrap>-- 
		</td><td>wzór zostanie oznaczony podanym
		tekstem, <tt><i>nazwa_etykiety</i></tt> jest etykiet±,
		na któr± mo¿na siê powo³aæ</td></tr>
<tr valign="top"><td>
<tt>\label(<i>tekst</i>)</tt> </td><td nowrap>-- 
		</td><td>wzór zostanie oznaczony podanym
		tekstem, który zostanie ujêty w nawiasy <tt>()</tt>
		(nie jest definiowana etykieta,
		na któr± mo¿na siê powo³aæ)</td></tr>
<tr valign="top"><td>
<tt>\label(<i>tekst</i>){<i>nazwa_etykiety</i>}</tt> </td><td nowrap>-- 
		</td><td>wzór zostanie oznaczony podanym
		tekstem, który zostanie ujêty w nawiasy <tt>()</tt>,
		<tt><i>nazwa_etykiety</i></tt> jest etykiet±,
		na któr± mo¿na siê powo³aæ</td></tr>
</table>
</p>
<p>
Przyk³ad:<br\>
<table>
<tr><td>
<pre>
\begin{EQA}[c]
   \nabla\cdot(\rho\nabla u) = 0
       \label(eq.1){eq:custom:a} \\
   \nabla\cdot(\rho\nabla u) = 0
       \label[eq.2]{eq:custom:b} \\
   \nabla\cdot(\rho\nabla u) = 0
       \label[***1***]
\end{EQA}
I will refer to 
\eqref{eq:custom:a} and
\eqref{eq:custom:b}
</pre>
</td><td>
<img src="easyeqn5.png">
</td></tr>
</table>
</p>

<p>
W parametrze makroinstrukcji <tt>\label</tt> mo¿na u¿yæ znaku
<tt>~</tt> -- oznacza on wstawienie polecenia
<tt>\theequation</tt> z ostatnio u¿yt± warto¶ci± licznika wzorów, bez jego
inkrementacji. W ten sposób ³atwo uzyskaæ efekt dodatkowego numerowania
wzoru
(p. tak¿e pakiety
<a href="subeqn.html">subeqn</a> i <a href="subeqnarray.html">subeqnarray</a>)</br>
<table>
<tr><td>
<pre>\begin{EQA}[c]\label{dqq}\yesnumber
   \nabla\cdot(\rho\nabla u) = 0 \label(~.a){aqq}\\
   \nabla\cdot(\rho\nabla u) = 0 \label(~.b){bqq}\\
   \nabla\cdot(\rho\nabla u) = 0\label(~.c){cqq}
\end{EQA}
\eqref{aqq} \eqref{bqq} \eqref{cqq}
</pre>
</td><td>
<img src="easyeqn9.png">
</td></tr>
<tr valign="top"><td colspan=2>konieczne jest zdefiniowanie etykiety 
na pocz±tku (<tt>\label{dqq}\yesnumber</tt>),
tak aby zosta³a zwiêkszona warto¶æ licznika, w przeciwnym razie
kolejne linie by³yby oznaczane <tt>(0.a)</tt>, <tt>(0.b)</tt> i <tt>(0.c)</tt>
</td></tr>
</table>
</p>

<h4>Dodatkowe polecenia aktywowane opcj± <tt>math</tt></h4>
<table>
<tr valign="top"><td>
<tt>\frac[<i>d³ugo¶æ</i>]{<i>licznik</i>}{<i>mianownik</i>}</tt>
	</td><td nowrap>--</td><td>
	<td>parametr opcjonalny pozwala na zmianê grubo¶ci kreski u³amkowej
	(z powodu b³êdów definicji przed wywo³aniem
	pakietu nale¿y skasowaæ standardow± definicjê makroinstrukcji
	poleceniem <tt>\let\frac\relax</tt>)
	</td></tr>
<tr valign="top"><td>
<tt>\dfrac[<i>d³ugo¶æ</i>]{<i>licznik</i>}{<i>mianownik</i>}</tt>
	</td><td nowrap>--</td><td>
	<td>licznik i mianownik sk³adany jest zawsze w ,,displaystyle'';   parametr opcjonalny pozwala na zmianê grubo¶ci kreski u³amkowej
	</td></tr>
<tr valign="top"><td>
<tt>\tfrac[<i>d³ugo¶æ</i>]{<i>licznik</i>}{<i>mianownik</i>}</tt>
	</td><td nowrap>--</td><td>
	<td>licznik i mianownik sk³adany jest zawsze w ,,textstyle'';   parametr opcjonalny pozwala na zmianê grubo¶ci kreski u³amkowej
	</td></tr>
<tr valign="top"><td>
<tt>\eqbox{<i>zawarto¶æ</i>}</tt></td></tr>
<tr valign="top"><td>
<tt>\eqbox(<i>grubo¶æ</i>,<i>odleg³o¶æ</i>){<i>zawarto¶æ</i>}</tt>
	</td><td nowrap>--</td><td>
	<td>
makroinstrukcja pozwala na ujêcie fragmentu wzoru w ramkê;
parametr opcjonalny okre¶la grubo¶æ ramki i jej odleg³o¶æ od zawarto¶ci
<table><tr><td>
<pre>
\[
\eqbox{\int_0^\infty dx}~~~~
\eqbox(2pt,5pt){\int_0^\infty dx}
\]
</pre></td><td>
<img src="easyeqn17.png">
	</td></tr>
	</table>
	</td></tr>
<tr valign="top"><td>
<tt>\norm{<i>zawarto¶æ</i>}</tt>
	</td><td nowrap>--</td><td>
	<td>
<img src="easyeqn15.png">
	</td></tr>
<tr valign="top"><td>
<tt>\abs{<i>zawarto¶æ</i>}</tt>
	</td><td nowrap>--</td><td>
	<td>
<img src="easyeqn16.png">
	</td></tr>
<tr valign="top"><td>
<tt>\ParDer[<i>definicja mianownika</i>]{<i>licznik</i>}</tt>
	</td><td nowrap>--</td><td>
	<td>
	</td></tr>
<tr valign="top"><td>
<tt>\DIV{<i>zawarto¶æ</i>}</tt>
	</td><td nowrap>--</td><td>
	<td>
<img src="easyeqn12.png">
	</td></tr>
<tr valign="top"><td>
<tt>\GRAD{<i>zawarto¶æ</i>}</tt>
	</td><td nowrap>--</td><td>
	<td>
<img src="easyeqn13.png">
	</td></tr>
<tr valign="top"><td>
<tt>\LAPLA{<i>zawarto¶æ</i>}</tt>
	</td><td nowrap>--</td><td>
	<td>
<img src="easyeqn14.png">
	</td></tr>
<tr valign="top"><td colspan="2">
<tt>\SUM{<i>od</i>}{<i>do</i>}</tt></td></tr>
<tr valign="top"><td>
<tt>\SUM[<i>indeks</i>]{<i>od</i>}{<i>do</i>}</tt>
	</td><td nowrap>--</td><td>
	<td>
	</td></tr>
<tr valign="top"><td colspan="2">
<tt>\PROD{<i>od</i>}{<i>do</i>}</tt></td></tr>
<tr valign="top"><td>
<tt>\PROD[<i>indeks</i>]{<i>od</i>}{<i>do</i>}</tt>
	</td><td nowrap>--</td><td>
	<td>
	</td></tr>
</table>
<h4>Dodatkowe ¶rodowiska aktywowane opcj± <tt>math</tt></h4>
<table>
<tr valign="top"><td>
<tt>ARRAY</tt>
	</td><td nowrap>--</td><td>
	ró¿nicê w stosunku do ¶rodowiska <tt>array</tt>
	ilustruje przyk³ad (pola tablicy s± sk³adane w ,,displaystyle'')
	<table>
	<tr><td>
	<pre>
  \[
    \left(\begin{array}{cc}
      1        & \frac{1}{2} \\
	  \sqrt{3} & \frac{2}{\sqrt{3}}
    \end{array}\right), \qquad
    \left(\begin{ARRAY}{cc}
      1        & \frac{1}{2} \\
	  \sqrt{3} & \frac{2}{\sqrt{3}}
    \end{ARRAY}\right),
  \]
	</pre>
		</td><td>
<img src="easyeqn11.png">
		</td></tr>
	</table></td> </tr>
<tr valign="top"><td>
<tt>MATRIX</tt>
	</td><td nowrap>--</td><td>
	ró¿nicê w stosunku do makroinstrukcji <tt>matrix</tt>
	ilustruje przyk³ad (odleg³o¶æ miêdzy wierszami)
	<table>
	<tr><td>
	<pre>
  \[
    \matrix{
      1        & \frac{1}{2} \cr
      \sqrt{3} & \frac{2}{\sqrt{3}}
    }, \qquad
    \begin{MATRIX}
      1        & \frac{1}{2} \\
      \sqrt{3} & \frac{2}{\sqrt{3}}
    \end{MATRIX}
  \]

	</pre>
		</td><td>
<img src="easyeqn10.png">
		</td></tr>
	</table>
	</td></tr>
</table>

<p>Pakiet <code>easyeqn</code> wraz z pakietami pomocniczymi jest dostêpny 
pod adresem:<br/>
<a href="ftp://ftp.gust.org.pl/TeX/macros/latex/contrib/easy">ftp://ftp.gust.org.pl/TeX/macros/latex/contrib/easy/</a></p>
<hr/>

<a href=../../texologia.html><img src="../../gify/lew-7vs.gif" hspace=10 border=0 align=left></a>
<a href=mailto:W.Macewicz@ia.pw.edu.pl><img src="../../gify/mail.gif" hspace=10 align=left></a>
<a href=http://www.ia.pw.edu.pl/~wujek/index.html>W³odzimierz Macewicz</a><br clear=all>
<hr>
<!--#config timefmt="%y-%m-%d" -->
Ostatnie zmiany: 12.09.2004.
</body>
</html>
