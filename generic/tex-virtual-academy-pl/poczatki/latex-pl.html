<HTML>
<HEAD>
<meta http-equiv="content-type" content="text/html; charset=iso-8859-2">
<TITLE>(pdf)LaTeX i polski</TITLE>
</HEAD>

<BODY>

<!-- May 2008. Staszek Wawrykiewicz (StaW@gust.org.pl).
TeX Live 2008 revision. Public domain. -->

<center>
<h2>(Pdf)LaTeX i jêzyk polski</h2>
</center>

Dokumentacja niniejsza omawia pokrótce generowanie formatów do tworzenia
plików DVI oraz PDF, ze wsparciem dla jêzyka polskiego i ich u¿ycie 
w ¶rodowisku opartym na Web2c (TeX Live) lub MiKTeX.
Od wersji 7.5.5 Web2c oba typy plików generowane s± jednym programem 
<code>pdftex</code>.

<p>
Poni¿ej pokazano prosty przyk³ad tworzenia pliku z u¿yciem
pakietu <code>Polski</code>. Pakiet ten dostarcza narzêdzi potrzebnych do sk³adu
dokumentów w&nbsp;jêzyku polskim LaTeXem&nbsp;2e.<br>
Autorzy pakietu: Mariusz Olko i Marcin Woliñski.<br>
Wiêcej informacji na temat samego pakietu -- patrz plik 
<code>czytaj.txt</code> dystrybucji pakietu Polski (dawniej PLaTeX).

<p>
Ponadto w&nbsp;dystrybucjach
do³±czono przyk³adowy plik <code>doc/latex/polski/sample-polski.tex</code>.
s³u¿±cy do przetestowania poprawnego 
dzia³ania formatu LaTeX. Pocz±tkuj±cym u¿ytkownikom zaleca siê 
zapoznanie z&nbsp;zawarto¶ci± tego pliku.
<!-- Plik ten dostêpny jest tak¿e na serwerze 
<a href="ftp://ftp.gust.org.pl/pub/GUST/contrib/zaczynam/">GUST</a>. -->
Techniczne szczegó³y dotycz±ce u¿ycia pakietu polski.sty 
(g³ówny element pakietu polski) dostêpne s± po dwukrotnym uruchomieniu:<br>
  <code>latex polski.dtx</code><br>
  <code>latex polski.dtx</code><br>
i wy¶wietleniu wynikowego <code>polski.dvi</code>.<p>

<hr>

<h3>I. Przygotowanie formatu LaTeX2e do obs³ugi jêzyka polskiego</h3>

<p>
Format w&nbsp;systemie TeX to wstêpnie prekompilowany (aby przyspieszyæ 
jego analizê przez program <code>tex/pdftex</code>) zestaw makrodefinicji oraz regu³
przenoszenia wyrazów dla wybranego zestawu jêzyków. 
Plik formatu z&nbsp;regu³y posiada rozszerzenie <code>.fmt</code>.
Tworzenie formatu to, w&nbsp;skrócie, uruchomienie programu
<code>tex/pdftex</code>
z&nbsp;opcj± <code>--ini</code> i&nbsp;wczytanie odpowiedniego pliku
inicjuj±cego (dla LateX jest to plik <code>latex.ltx</code>).
W&nbsp;LaTeX&nbsp;2e zestaw regu³ przenoszenia wyrazów jest zwyczajowo 
deklarowany w&nbsp;pliku o&nbsp;nazwie <code>language.dat</code>.
Plik ten znajduje siê zwykle w&nbsp;podkatalogu 
<code>tex/generic/config/language.dat</code> lokalnej konfiguracji systemu
TeX b±d¼ w&nbsp;identycznym podkatalogu katalogu g³ównego instalacji. Modyfikacja
<code>language.dat</code> polega na usuniêciu w&nbsp;tym pliku znaku komentarza
`%' w&nbsp;wierszu<br>
<code>polish plhyph.tex</code>
i&nbsp;ewentualnym
zablokowaniu takim znakiem niepo¿±danych deklaracji wzorców dzielenia 
wyrazów.</p>

<b>Przygotowanie formatu:</b>

 <p> W teTeX/TeX Live nale¿y uruchomiæ program 
   <code>texconfig</code>,
   uaktywniæ regu³y dzielenia wyrazów dla jêzyka polskiego -- menu
   <code>Hyphenation</code> uruchamia edycjê pliku
   <code>language.dat</code>; po zapisaniu zmian w&nbsp;pliku
   i&nbsp;zakoñczeniu edycji, zostanie automatyczne wygenerowany format
   <code>latex.fmt</code> zawieraj±cy
   wybrane wzorce dzielenia oraz mechanizm Babel prze³±czania jêzyków;
   <code>texconfig</code> tworzy ponadto dowi±zanie (lub program) 
   <code>latex</code>.<br>
   Dla dociekliwych: powy¿sze odpowiada uruchomieniu z&nbsp;linii
   poleceñ:<br>
   <code>fmtutil --byfmt latex; texlinks</code><br>
   za¶ na ni¿szym poziomie -- poleceniu<br>
   <code>pdftex --ini --progname=latex latex.ini</code><br>
   (od Web2c wer. 7.5.5 u¿ywamy jednego programu <code>pdftex</code>).</p>

 <p> W instalacji MiKTeX nale¿y uruchomiæ menu 
   <code>MiKTeX Options</code>, zaznaczyæ w&nbsp;podmenu 
   <code>Languages: polish</code> regu³y przenoszenia wyrazów, po czym
   w&nbsp;menu <code>TeX Formats</code> wygenerowaæ (przyciskiem
  <code>Build</code>) nowy format <code>latex.fmt</code>, zawieraj±cy
  polskie wzorce.<br>
  Format <code>pdflatex.fmt</code> dla tworzenia plików PDF
  tworzony jest analogicznie.</p>

<p>
W&nbsp;omawianych wy¿ej przypadkach tworzony jest plik formatu
 <code>latex.fmt</code> (lub <code>pdflatex.fmt</code>), który jest
 umieszczany w&nbsp;katalogu w³a¶ciwym dla tego rodzaju
 plików, oraz tworzony jest program <code>latex</code> lub
 <code>pdflatex</code> 
<!-- (uruchamia on program <code>tex</code> lub
 <code>pdftex</code> z&nbsp;odpowiednim formatem). -->
</p>

<hr>

<h3>II. U¿ycie</h3>

Aktualne implementacje, oparte na Web2c, a&nbsp;tak¿e MiKTeX pozwalaj±
na prawid³owe przekodowanie znaków diakrytycznych w&nbsp;pliku TeX-owym
na wewnêtrzn± reprezentacjê, stosowan± przez programy. 
W&nbsp;Polsce, niestety, 
stosowane s± ró¿ne ,,standardy'' kodowania diakrytyków w&nbsp;tworzonych przez
u¿ytkownika plikach, zale¿nie od systemu operacyjnego. Dla potrzeb systemu 
TeX u¿ywamy zewnêtrznych, tekstowych plików TCX, pozwalaj±cych ,,obs³u¿yæ'' 
ró¿ne spotykane ,,standardy''. Dziêki temu przekodowanie dzia³a te¿ 
w&nbsp;drug± stronê, kiedy TeX wy¶wietla komunikaty i&nbsp;zapisuje pliki 
<code>.log</code>, a&nbsp;tak¿e pliki ze spisem tre¶ci, skorowidzem itp.<p>

Uruchomienie polecenia:<br>
<code>latex --translate-file=TCXFILE myfile.tex</code><br>
oznacza uruchomienia TeX-a z&nbsp;formatem <code>latex.fmt</code>
i&nbsp;z&nbsp;odpowiedni± tablic± przekodowañ (ich lista znajduje siê 
poni¿ej).<p> 

Przekodowanie (plik TCX) mo¿e byæ deklarowane bezpo¶rednio w&nbsp;pliku
TeX-owym. 
<!-- Pocz±wszy od wersji Web2c&nbsp;7.4, wymaga to podania 
w&nbsp;wierszu poleceñ opcji <code>--parse</code> lub w³±czenia jej na 
sta³e, co wymaga zmiany w&nbsp;g³ównym pliku
konfiguracyjnym <code>texmf.cnf</code>:<br>
<code>parse_first_line = t</code><br>
(t -- od `true', zamiast domy¶lnego przypisania f -- od `false'). -->
Przyk³adowo, je¶li <b>pierwszy</b> wiersz pliku zawiera
 komentarz strukturalny postaci<br>
     <code>%&latex --translate-file=il2-pl</code><br>
 to plik mo¿e byæ przetworzony za pomoc± polecenia <code>pdftex plik.tex</code>;
 zostanie wtedy wczytany format <code>latex.fmt</code> oraz tablica
 <code>il2-pl.tcx</code>
 przekodowania z&nbsp;uk³adu iso8859-2 do uk³adu fontów PL (wewnêtrznego
 dla programu TeX; w&nbsp;LaTeX-u ma on kryptonim OT4).<p>

Tym samym zbêdna jest deklaracja w&nbsp;preambule pliku LaTeX-owego:<br>
      <code>\usepackage[latin2]{inputenc}</code><p>
      <code>\usepackage[OT4]{fontenc}</code><p>


W&nbsp;dystrybucjach dostarczono szereg plikow TCX. Mo¿na je znale¼æ
w&nbsp;katalogu <code>texmf/web2c/</code>:<br>
<table border>
<tr>
 <td>  amiga-pl.tcx </td> <td> AmigaPL do PL </td>
</tr>
<tr>
   <td>il2-pl.tcx</td>    <td> iso8859-2 (latin2) do PL </td>
</tr>
<tr>
   <td>cp1250pl.tcx</td> <td> Windows cp1250 do PL </td>
</tr>
<tr>
   <td>cp852-pl.tcx</td>  <td> IBM cp852 do PL </td>
</tr>
<tr>
   <td>macce-pl.tcx</td>    <td> Apple MacCE do PL  </td>
</tr>
<tr>
   <td>maz-pl.tcx</td>    <td> Mazovia do PL  </td>
</tr>
</table>

<p>
A oto przyk³ad pliku LaTeX-owego:

<pre>
        %& --translate-file=cp1250pl
        \documentclass[a4paper]{article}
        \usepackage{polski}
        \begin{document}
          Polskie literki piszemy w standardzie Windows cp1250: .....
        \end{document}
</pre>

     Jak widaæ, nasz plik ma krótk± preambu³ê -- pakiet <code>polski</code>
     korzysta domy¶lnie z&nbsp;zainstalowanych fontów PL (odpowiada mu uk³ad 
     OT4, wiêc zbêdna jest deklaracja <code>\usepackage[OT4]{fontenc}</code>). 
     Je¶li korzystamy
     z&nbsp;fontów EC nasza preambu³a powinna zawieraæ dodatkowy wiersz:<br>
     <code>\usepackage[T1]{fontenc}</code>


<h3> III. Polskie fonty PostScriptowe</h3>

Aktualne dystrybucje zawieraj± fonty w&nbsp;wersji 
Type&nbsp;1 (postscriptowe) serii PL
(spolonizowane standardowe dla TeX-a fonty CM), a&nbsp;tak¿e znacznie 
rozszerzone i&nbsp;obecnie zalecane fonty Latin Modern.
 Mo¿na je tak¿e znale¼æ w&nbsp;najbli¿szym wê¼le CTAN lub jego kopii,
 np.:<br>
 <a href="ftp://ftp.gust.org.pl/pub/CTAN/language/polish/plpsfont/">
ftp://ftp.gust.org.pl/pub/CTAN/language/polish/plpsfont/</a>.<br>
 <a href="ftp://ftp.gust.org.pl/pub/CTAN/fonts/lm/">
ftp://ftp.gust.org.pl/pub/CTAN/fonts/lm/</a>.<p>

Przedstawimy tu przyk³ad dotycz±cy instalacji fontów PL.
 Pliki <code>.pfb</code> powinny znale¼æ siê w&nbsp;podkatalogu
 <code>texmf/fonts/type1/public/pl/</code> naszej instalacji, pliki 
 map fontowych (<code>.map</code>) w&nbsp;katalogu
 <code>texmf/fonts/map/dvips/pl/</code> za¶ wektory kodowañ 
(<code>.enc</code>) -- w&nbsp;katalogu <code>texmf/fonts/enc/dvips/pl/</code>
<p>
W dystrybucjach opartych na Web2c zautomatyzowano, poprzez u¿ycie programu
<code>updmap</code>, proces tworzenia map fontowych dla programów
<code>dvips</code>, <code>pdftex</code> 
i&nbsp;<code>dvipdfmx</code>. Poni¿ej omówiono wiêc tylko, czego ten proces
dotyczy.
<p>
 Sterownik <code>dvips</code> (zamieniaj±cy wynik pracy TeX-a, plik DVI,
 do formatu PostScript) wymaga aby deklaracje map fontowych 
 (dla fontów PL konkretnie zawarto¶æ <code>texmf/fonts/map/dvips/pl/pl.map</code>) 
 by³y do³±czone do pliku <code>texmf/fonts/map/dvips/updmap/psfonts.map</code>.
 Mapy fontowe mo¿na alternatywnie do³±czyæ w&nbsp;pliku 
 <code>texmf/dvips/config/config.ps</code> (lub jego lokalnej kopii),
 dopisuj±c wiersz:<br>
 <code>p +pl.map</code><br>
 po deklaracji g³ównej mapy fontowej: <code>p psfonts.map</code>. <p>

 Aby fonty Type&nbsp;1 by³y u¿yte przez program <code>pdfTeX</code>, 
 nale¿y sprawdziæ jakie mapy fontowe s± deklarowane w&nbsp;pliku 
 <code>texmf/fonts/map/pdftex/updmap/pdftex.map</code> -- powinien on tak¿e
 zawieraæ deklaracje map fontowych dla fontów PL.<p>

W&nbsp;dystrybucjach wszystkie aktualnie dostêpne polskie fonty
Type1 s± gotowe do u¿ycia zarówno przez program <code>dvips</code>,
<code>pdftex</code>, jak i&nbsp;<code>dvipdfmx</code> .<p>

Bardziej szczegó³owe omówienie instalacji fontów Type1 zawarte
jest w&nbsp;artykule <a href="../fonty/fonts_inst.html">Instalowanie
fontów Type1/True Type</a>. <p>

<hr>

<i>Staszek Wawrykiewicz</i> (StaW at gust dot org dot pl), 30.05.2008.

</BODY>
</HTML>

